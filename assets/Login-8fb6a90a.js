import{d as k,r as o,i as C,u as V,a as d,c as N,g as r,w as t,b as e,e as U,h as p,v as x,t as _,f as n,s as v,o as j}from"./index-9fcc098d.js";import{l as B}from"./logo-mv-1d56246e.js";import{U as E}from"./UserService-d1854abc.js";const T={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},q={class:"sm:mx-auto sm:w-full sm:max-w-sm"},A=["src"],D={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},M={class:"space-y-6"},R=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"Correo",-1),S={class:"mt-2"},$=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"},"Contraseña")],-1),z={class:"mt-2"},H={class:"mt-2 text-sm text-center italic text-red-500"},L={class:"mt-10 text-center text-sm text-gray-500"},K=k({__name:"Login",setup(F){const m=o(!1),f=o(""),l=o(""),a=o(""),i=C("$cookies"),h=V(),w=async()=>{let c="";try{m.value=!1;const s=await E.login(l.value,a.value);if(s.error)throw new Error(s.message);if(i)i.set("token-hungriest",s.token,"1d"),i.set("user-hungriest",s.user,"1d"),v.commit("setUser",s.user),v.commit("setToken",s.token),h.push({name:"orderlist"});else throw new Error("No se pudo iniciar sesión")}catch(s){c=s.message}finally{m.value=!1,f.value=c}};return(c,s)=>{const b=d("v-icon"),y=d("v-btn"),g=d("router-link");return j(),N("div",T,[r(g,{to:"/"},{default:t(()=>[r(y,{color:"green",class:"!absolute top-10 left-10 !rounded-full"},{prepend:t(()=>[r(b,null,{default:t(()=>[n("mdi-chevron-left")]),_:1})]),default:t(()=>[n("Home")]),_:1})]),_:1}),e("div",q,[e("img",{class:"mx-auto w-80",src:U(B),alt:"Manzana Verde"},null,8,A)]),e("div",D,[e("form",M,[e("div",null,[R,e("div",S,[p(e("input",{id:"email",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":s[0]||(s[0]=u=>l.value=u),class:"focus:bg-white px-5 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6"},null,512),[[x,l.value]])])]),e("div",null,[$,e("div",z,[p(e("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:"","onUpdate:modelValue":s[1]||(s[1]=u=>a.value=u),class:"focus:bg-white px-5 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6"},null,512),[[x,a.value]])])]),e("div",null,[e("button",{onClick:w,type:"button",class:"flex w-full justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"},"Acceder")])]),e("p",H,_(f.value),1),e("p",L,[n(" ¿No estas registrado? "+_(" ")+" "),r(g,{to:"/register",class:"font-semibold leading-6 text-green-600 hover:text-green-500"},{default:t(()=>[n("Registrate ya!")]),_:1})])])])}}});export{K as default};
